<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Terrain - Opacit√© 100% et Niveaux Diff√©renci√©s</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: #000;
            color: #fff;
            font-family: 'Courier New', monospace;
        }
        #game-container {
            border: 2px solid #fff;
            margin: 20px 0;
        }
        .info {
            background: #333;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
        }
        .controls {
            background: #444;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
        }
        .controls button {
            background: #666;
            color: #fff;
            border: none;
            padding: 10px 15px;
            margin: 5px;
            border-radius: 3px;
            cursor: pointer;
        }
        .controls button:hover {
            background: #888;
        }
        .success {
            background: #2a4a2a;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            border-left: 4px solid #4f8;
        }
        .level-comparison {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 15px 0;
        }
        .level-card {
            background: #2a2a2a;
            padding: 10px;
            border-radius: 5px;
            border-left: 4px solid;
        }
        .level-card.level1 { border-left-color: #2A2A2A; }
        .level-card.level2 { border-left-color: #6A6A6A; }
        .level-card.level3 { border-left-color: #CD853F; }
        .level-card.level4 { border-left-color: #B8B8B8; }
        .level-card.level5 { border-left-color: #00CC88; }
    </style>
</head>
<body>
    <h1>üîß Test Terrain - Opacit√© 100% et Niveaux Diff√©renci√©s</h1>
    
    <div class="success">
        <h3>‚úÖ Corrections Appliqu√©es</h3>
        <p><strong>Deux probl√®mes majeurs ont √©t√© corrig√©s !</strong></p>
        <ul>
            <li>‚úÖ <strong>Opacit√© 100%</strong> : Terrain compl√®tement solide (plus de semi-transparence)</li>
            <li>‚úÖ <strong>Niveaux diff√©renci√©s</strong> : Niveaux 1 et 2 ont maintenant des terrains distincts</li>
            <li>‚úÖ <strong>Couleurs renforc√©es</strong> : Palettes de couleurs plus contrast√©es</li>
            <li>‚úÖ <strong>D√©tails am√©lior√©s</strong> : Plus d'√©l√©ments visuels par terrain</li>
        </ul>
    </div>
    
    <div class="info">
        <h3>üéØ Nouveaux Types de Terrain par Niveau</h3>
        <div class="level-comparison">
            <div class="level-card level1">
                <h4>üåë Niveau 1 - Ast√©ro√Ødes Sombres</h4>
                <p>Surface tr√®s sombre avec crat√®res profonds et rochers noirs</p>
                <small>Couleurs: Gris tr√®s sombre (#2A2A2A, #1A1A1A)</small>
            </div>
            <div class="level-card level2">
                <h4>üå´Ô∏è Niveau 2 - Ast√©ro√Ødes Clairs</h4>
                <p>Surface claire avec reflets et poussi√®re lumineuse</p>
                <small>Couleurs: Gris clair (#6A6A6A, #8A8A8A)</small>
            </div>
            <div class="level-card level3">
                <h4>üî¥ Niveau 3 - Mars</h4>
                <p>Surface rouge-orange avec formations rocheuses</p>
                <small>Couleurs: Brun martien (#8B4513, #CD853F)</small>
            </div>
            <div class="level-card level4">
                <h4>üåï Niveau 4 - Lune</h4>
                <p>Surface grise avec r√©golithe et crat√®res</p>
                <small>Couleurs: Gris lunaire (#8C8C8C, #B8B8B8)</small>
            </div>
            <div class="level-card level5">
                <h4>üëΩ Niveau 5 - Alien</h4>
                <p>Surface organique avec bioluminescence</p>
                <small>Couleurs: Palette alien (#6600CC, #00AA44)</small>
            </div>
        </div>
    </div>
    
    <div class="controls">
        <h3>üéÆ Test des Terrains Corrig√©s</h3>
        <button onclick="testLevel(1)">Niveau 1 - Ast√©ro√Ødes Sombres</button>
        <button onclick="testLevel(2)">Niveau 2 - Ast√©ro√Ødes Clairs</button>
        <button onclick="testLevel(3)">Niveau 3 - Mars</button>
        <button onclick="testLevel(4)">Niveau 4 - Lune</button>
        <button onclick="testLevel(5)">Niveau 5 - Alien</button>
        <button onclick="compareLevel1And2()">Comparer Niveaux 1 vs 2</button>
    </div>
    
    <div class="info" id="validation">
        <h3>‚úÖ Validation des Corrections</h3>
        <div id="validation-info">
            <p><strong>V√©rifiez que :</strong></p>
            <ul>
                <li>‚úÖ <strong>Terrain 100% opaque</strong> : Aucune transparence visible</li>
                <li>‚úÖ <strong>Niveaux 1 et 2 diff√©rents</strong> : Ast√©ro√Ødes sombres vs clairs</li>
                <li>‚úÖ <strong>Couleurs solides</strong> : Pas de semi-transparence</li>
                <li>‚úÖ <strong>D√©tails nets</strong> : Formations bien d√©finies</li>
            </ul>
        </div>
    </div>
    
    <div id="game-container"></div>

    <!-- Phaser.js -->
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.70.0/dist/phaser.min.js"></script>
    
    <!-- Game files -->
    <script src="js/config.js"></script>
    <script src="js/managers/ScoreManager.js"></script>
    <script src="js/managers/LevelManager.js"></script>
    <script src="js/entities/AlienTerrain.js"></script>
    
    <script>
        let game;
        let gameScene;
        let currentTerrain;
        let comparisonTerrain;
        
        // Configuration Phaser pour test opacit√© et niveaux
        const testConfig = {
            type: Phaser.AUTO,
            width: 800,
            height: 600,
            parent: 'game-container',
            backgroundColor: '#001122',
            physics: {
                default: 'arcade',
                arcade: {
                    gravity: { y: 0 },
                    debug: false
                }
            },
            scene: {
                preload: preload,
                create: create,
                update: update
            }
        };
        
        function preload() {
            console.log('üîß Loading assets for opacity and levels fix test...');
            // Pas besoin d'assets, tout est proc√©dural
        }
        
        function create() {
            gameScene = this;
            
            // Initialiser le level manager
            this.levelManager = { currentLevel: 1 };
            
            // Cr√©er le terrain initial (niveau 1)
            currentTerrain = new AlienTerrain(this);
            
            // Texte d'information
            this.add.text(10, 10, 'Terrain OPACIT√â 100% - NIVEAUX DIFF√âRENCI√âS', {
                fontSize: '16px',
                fill: '#00ff00'
            });
            
            this.add.text(10, 30, 'Terrain solide - Niveaux 1 et 2 distincts', {
                fontSize: '11px',
                fill: '#00ff00'
            });
            
            this.add.text(10, 50, 'Fini la semi-transparence et les doublons !', {
                fontSize: '12px',
                fill: '#ffff00'
            });
            
            updateValidationInfo(1);
            
            console.log('‚úÖ Opacity and levels fix ready for testing');
        }
        
        function update() {
            // Pas de logique d'update n√©cessaire
        }
        
        function testLevel(level) {
            console.log(`üåç Testing level ${level} terrain (100% opacity)`);
            
            // Nettoyer les terrains pr√©c√©dents
            if (currentTerrain) {
                currentTerrain.destroy();
            }
            if (comparisonTerrain) {
                comparisonTerrain.destroy();
                comparisonTerrain = null;
            }
            
            // Changer le niveau
            gameScene.levelManager.currentLevel = level;
            
            // Cr√©er le nouveau terrain
            currentTerrain = new AlienTerrain(gameScene);
            
            updateValidationInfo(level);
        }
        
        function compareLevel1And2() {
            console.log('üîÑ Comparing Level 1 vs Level 2 terrains');
            
            // Nettoyer les terrains pr√©c√©dents
            if (currentTerrain) {
                currentTerrain.destroy();
            }
            if (comparisonTerrain) {
                comparisonTerrain.destroy();
            }
            
            // Cr√©er terrain niveau 1 (haut)
            gameScene.levelManager.currentLevel = 1;
            currentTerrain = new AlienTerrain(gameScene);
            
            // Cr√©er terrain niveau 2 (bas) - simulation
            gameScene.levelManager.currentLevel = 2;
            comparisonTerrain = new AlienTerrain(gameScene);
            
            updateValidationInfo('1vs2');
        }
        
        function updateValidationInfo(level) {
            const validationDiv = document.getElementById('validation-info');
            
            const levelDescriptions = {
                1: {
                    name: 'üåë Niveau 1 - Ast√©ro√Ødes Sombres',
                    features: [
                        'Surface tr√®s sombre (gris #2A2A2A)',
                        'Crat√®res profonds et nombreux',
                        'Rochers noirs avec ombres',
                        'Texture rugueuse sombre'
                    ]
                },
                2: {
                    name: 'üå´Ô∏è Niveau 2 - Ast√©ro√Ødes Clairs',
                    features: [
                        'Surface claire (gris #6A6A6A)',
                        'Crat√®res moins profonds',
                        'Rochers avec reflets lumineux',
                        'Poussi√®re claire visible'
                    ]
                },
                3: {
                    name: 'üî¥ Niveau 3 - Mars',
                    features: [
                        'Surface rouge-orange martienne',
                        'Formations rocheuses √©rod√©es',
                        'D√©p√¥ts d\'oxyde de fer',
                        'Poussi√®re martienne'
                    ]
                },
                4: {
                    name: 'üåï Niveau 4 - Lune',
                    features: [
                        'Surface grise lunaire',
                        'R√©golithe en surface',
                        'Crat√®res avec pics centraux',
                        'Traces de microm√©torites'
                    ]
                },
                5: {
                    name: 'üëΩ Niveau 5 - Alien',
                    features: [
                        'Formations organiques color√©es',
                        'Cristaux bioluminescents',
                        'V√©g√©tation extraterrestre',
                        'Spores flottantes'
                    ]
                },
                '1vs2': {
                    name: 'üîÑ Comparaison Niveaux 1 vs 2',
                    features: [
                        'Niveau 1: Ast√©ro√Ødes SOMBRES (haut)',
                        'Niveau 2: Ast√©ro√Ødes CLAIRS (bas)',
                        'Diff√©rence de couleur visible',
                        'Terrains maintenant distincts'
                    ]
                }
            };
            
            const info = levelDescriptions[level];
            
            validationDiv.innerHTML = `
                <h4>${info.name}</h4>
                <p><strong>V√©rifiez que :</strong></p>
                <ul>
                    <li>‚úÖ <strong>Terrain 100% opaque</strong> : Aucune transparence visible</li>
                    <li>‚úÖ <strong>Couleurs solides</strong> : Pas de semi-transparence</li>
                    <li>‚úÖ <strong>D√©tails nets</strong> : Formations bien d√©finies</li>
                    ${level === '1vs2' ? '<li>‚úÖ <strong>Niveaux diff√©rents</strong> : Ast√©ro√Ødes sombres vs clairs</li>' : ''}
                </ul>
                <p><strong>Caract√©ristiques sp√©cifiques :</strong></p>
                <ul>
                    ${info.features.map(feature => `<li>${feature}</li>`).join('')}
                </ul>
            `;
        }
        
        // Initialiser le jeu
        game = new Phaser.Game(testConfig);
        
        // Message de validation apr√®s 3 secondes
        setTimeout(() => {
            console.log('‚úÖ Validation: V√©rifiez l\'opacit√© 100% et la diff√©rence entre niveaux 1 et 2');
        }, 3000);
    </script>
</body>
</html>
